"use strict";(self.webpackChunkmonafasaat=self.webpackChunkmonafasaat||[]).push([[932],{6666:(x,g,i)=>{i.r(g),i.d(g,{LoginComponent:()=>b});var _=i(6814),r=i(95),n=i(4946),m=i(2333),p=i(9310);function d(o,l){1&o&&(n.TgZ(0,"p",18),n._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0627\u062c\u0628\u0627\u0631\u064a "),n.qZA())}function f(o,l){1&o&&(n.TgZ(0,"p",18),n._uU(1," \u0635\u064a\u063a\u0629 \u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0625\u0644\u0643\u062a\u0631\u0648\u0646\u064a \u063a\u064a\u0631 \u0635\u062d\u064a\u062d\u0629 "),n.qZA())}function A(o,l){if(1&o&&(n.TgZ(0,"div",16),n.YNc(1,d,2,0,"p",17),n.YNc(2,f,2,0,"p",17),n.qZA()),2&o){const e=n.oxw();let t,u;n.xp6(1),n.Q6J("ngIf",null==(t=e.loginForm.get("email"))?null:t.getError("required")),n.xp6(1),n.Q6J("ngIf",null==(u=e.loginForm.get("email"))?null:u.getError("email"))}}function C(o,l){1&o&&(n.TgZ(0,"p",18),n._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0627\u062c\u0628\u0627\u0631\u064a "),n.qZA())}function h(o,l){1&o&&(n.TgZ(0,"p",18),n._uU(1," \u064a\u062c\u0628 \u0627\u0644\u0627 \u064a\u0642\u0644 \u0639\u0646 \u0633\u062a\u0629 \u0623\u062d\u0631\u0641 "),n.qZA())}function v(o,l){if(1&o&&(n.TgZ(0,"div",16),n.YNc(1,C,2,0,"p",17),n.YNc(2,h,2,0,"p",17),n.qZA()),2&o){const e=n.oxw();let t,u;n.xp6(1),n.Q6J("ngIf",null==(t=e.loginForm.get("password"))?null:t.getError("required")),n.xp6(1),n.Q6J("ngIf",null==(u=e.loginForm.get("password"))?null:u.getError("pattern"))}}function T(o,l){1&o&&(n.TgZ(0,"span"),n._UZ(1,"i",19),n.qZA())}function Z(o,l){if(1&o&&(n.TgZ(0,"div",16)(1,"p",18),n._uU(2),n.qZA()()),2&o){const e=n.oxw();n.xp6(2),n.Oqu(e.errMessage)}}let b=(()=>{class o{constructor(e,t,u){this._AuthService=e,this._FormBuilder=t,this._Router=u,this.loading=!1,this.errMessage="",this.loginForm=this._FormBuilder.group({email:["",[r.kI.required,r.kI.email]],password:["",[r.kI.required,r.kI.pattern(/^[a-zA-Z0-9_@]{6,}$/)]]})}handleForm(){this.loading=!0,!0===this.loginForm.valid?this._AuthService.getLogin(this.loginForm.value).subscribe({next:t=>{"success"==t.message&&(localStorage.setItem("eToken",t.token),this.loading=!1,this._Router.navigate(["/app/dashbord"]))},error:t=>{this.loading=!1,this.errMessage=t.error.message}}):this.loginForm.markAllAsTouched()}goToHome(){this._Router.navigate(["home"])}static#n=this.\u0275fac=function(t){return new(t||o)(n.Y36(m.e),n.Y36(r.qu),n.Y36(p.F0))};static#o=this.\u0275cmp=n.Xpm({type:o,selectors:[["app-login"]],standalone:!0,features:[n.jDz],decls:23,vars:6,consts:[[1,"text-center","mx-auto"],[1,"logo-img"],["src","./assets/images/Capture-logo.PNG","alt",""],[1,"text-center"],[3,"formGroup","ngSubmit"],[1,"my-3"],[1,"my-inputs","p-2","mx-auto","w-75"],[1,"mb-3"],["formControlName","email","type","text","placeholder","\u0639\u0646\u0648\u0627\u0646 \u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0625\u0644\u0643\u062a\u0631\u0648\u0646\u064a",1,"form-control"],["emailInp",""],["class","alert alert-danger w-50 mx-auto text-center small mt-2",4,"ngIf"],["formControlName","password","type","password","placeholder","\u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631",1,"form-control"],["password",""],[1,"back","ms-4",3,"click"],[1,"login",3,"disabled"],[4,"ngIf"],[1,"alert","alert-danger","w-50","mx-auto","text-center","small","mt-2"],["class","m-0",4,"ngIf"],[1,"m-0"],[1,"fas","fa-spin","fa-spinner","me-2"]],template:function(t,u){if(1&t&&(n.TgZ(0,"section")(1,"div",0)(2,"div",1),n._UZ(3,"img",2),n.qZA(),n.TgZ(4,"div",3)(5,"form",4),n.NdJ("ngSubmit",function(){return u.handleForm()}),n.TgZ(6,"h2",5),n._uU(7,"\u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644"),n.qZA(),n.TgZ(8,"div",6)(9,"div",7),n._UZ(10,"input",8,9),n.YNc(12,A,3,2,"div",10),n.qZA(),n.TgZ(13,"div",7),n._UZ(14,"input",11,12),n.YNc(16,v,3,2,"div",10),n.qZA()(),n.TgZ(17,"button",13),n.NdJ("click",function(){return u.goToHome()}),n._uU(18,"\u0631\u062c\u0640\u0640\u0640\u0640\u0648\u0639"),n.qZA(),n.TgZ(19,"button",14),n._uU(20," \u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644 "),n.YNc(21,T,2,0,"span",15),n.qZA(),n.YNc(22,Z,3,1,"div",10),n.qZA()()()()),2&t){const c=n.MAs(11),M=n.MAs(15);let a,s;n.xp6(5),n.Q6J("formGroup",u.loginForm),n.xp6(7),n.Q6J("ngIf",(null==(a=u.loginForm.get("email"))?null:a.errors)&&((null==(a=u.loginForm.get("email"))?null:a.touched)||c.value.length>0)),n.xp6(4),n.Q6J("ngIf",(null==(s=u.loginForm.get("password"))?null:s.errors)&&((null==(s=u.loginForm.get("password"))?null:s.touched)||M.value.length>0)),n.xp6(3),n.Q6J("disabled",u.loginForm.invalid),n.xp6(2),n.Q6J("ngIf",u.loading),n.xp6(1),n.Q6J("ngIf",u.errMessage)}},dependencies:[_.ez,_.O5,r.UX,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u],styles:["section[_ngcontent-%COMP%]{min-height:100vh;background-image:url(account1.a5901b03abeb7db57f14.a85d9e1d41556258.png);background-size:cover;background-position:center center}section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#0aad0a}section[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]{background-color:#0aad0a;color:#fff;padding:10px 30px;border:0 solid #ccc;border-radius:5px;transition:background-color .5s}section[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]:disabled{cursor:not-allowed;background-color:#ccc}section[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]:disabled:hover{background-color:#ccc}section[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]:hover{background-color:#11bd11}section[_ngcontent-%COMP%]   .back[_ngcontent-%COMP%]{background-color:#09c;color:#fff;padding:10px 30px;border:0 solid #ccc;border-radius:5px;transition:background-color .5s}section[_ngcontent-%COMP%]   .back[_ngcontent-%COMP%]:hover{background-color:#0099cc93}section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;color:#457399}"]})}return o})()}}]);