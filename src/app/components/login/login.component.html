<section>
  <div class="text-center mx-auto">
    <div class="logo-img">
      <img src="./assets/images/Capture-logo.PNG" alt="" />
    </div>

    <div class="text-center">
      <form [formGroup]="loginForm" (ngSubmit)="handleForm()">
        <h2 class="my-3">تسجيل الدخول</h2>
        <div class="my-inputs p-2 mx-auto w-75">
          <div class="mb-3">
            <input
              #emailInp
              formControlName="email"
              type="text"
              class="form-control"
              placeholder="عنوان البريد الإلكتروني"
            />
            <div
              *ngIf="
                loginForm.get('email')?.errors &&
                (loginForm.get('email')?.touched || emailInp.value.length > 0)
              "
              class="alert alert-danger w-50 mx-auto text-center small mt-2"
            >
              <p
                *ngIf="loginForm.get('email')?.getError('required')"
                class="m-0"
              >
                هذا الحقل اجباري
              </p>
              <p *ngIf="loginForm.get('email')?.getError('email')" class="m-0">
                صيغة البريد الإلكتروني غير صحيحة
              </p>
            </div>
          </div>

          <div class="mb-3">
            <input
              #password
              formControlName="password"
              type="password"
              class="form-control"
              placeholder="كلمة المرور"
            />
            <div
              *ngIf="
                loginForm.get('password')?.errors &&
                (loginForm.get('password')?.touched ||
                  password.value.length > 0)
              "
              class="alert alert-danger w-50 mx-auto text-center small mt-2"
            >
              <p
                *ngIf="loginForm.get('password')?.getError('required')"
                class="m-0"
              >
                هذا الحقل اجباري
              </p>
              <p
                *ngIf="loginForm.get('password')?.getError('pattern')"
                class="m-0"
              >
                يجب الا يقل عن ستة أحرف
              </p>
            </div>
          </div>
        </div>

        <button class="back ms-4" (click)="goToHome()">رجــــوع</button>
        <button [disabled]="loginForm.invalid" class="login">
          تسجيل الدخول
          <span *ngIf="loading"
            ><i class="fas fa-spin fa-spinner me-2"></i
          ></span>
        </button>

        <div
          *ngIf="errMessage"
          class="alert alert-danger w-50 mx-auto text-center small mt-2"
        >
          <p class="m-0">{{ errMessage }}</p>
        </div>
      </form>
    </div>
  </div>
</section>
